# Prompts Directory

This directory contains system prompts and few-shot examples for the Phase 0 LLM models.

## Structure

```
prompts/
├── README.md                    # This file
├── model_a_system.txt          # System prompt for Model A (Act Detection)
├── model_a_examples.json       # Few-shot examples for Model A (generated)
├── model_b_system.txt          # System prompt for Model B (Motivation) [TODO]
├── model_b_examples.json       # Few-shot examples for Model B [TODO]
├── model_c_system.txt          # System prompt for Model C (Info Extraction) [TODO]
└── model_c_examples.json       # Few-shot examples for Model C [TODO]
```

## Model A: Act Detection

**Purpose:** Binary classification - does this passage describe a specific fiscal act?

**Files:**
- `model_a_system.txt` - Static system prompt with criteria
- `model_a_examples.json` - Generated from training data (10 positive + 10 negative)

**Generation:**
```r
tar_make(model_a_examples_file)
```

## Model B: Motivation Classification (Coming Soon)

**Purpose:** 4-way classification of fiscal act motivation
- Spending-driven
- Countercyclical
- Deficit-driven
- Long-run

## Model C: Information Extraction (Coming Soon)

**Purpose:** Extract timing (quarters) and magnitude (billions USD) from passages

## Editing Prompts

### System Prompts (.txt files)

These are plain text files that can be edited directly. They define:
- Task description
- Classification criteria
- Output format (JSON schema)
- Examples of what qualifies or doesn't qualify

**Best practices:**
- Be explicit about edge cases
- Provide clear examples in the prompt text
- Specify JSON output format exactly
- Use consistent terminology with training data

### Few-Shot Examples (.json files)

These are generated by the pipeline from training data, but can be manually edited if needed.

**Structure:**
```json
[
  {
    "input": "Text passage to classify...",
    "output": {
      "contains_act": true,
      "act_name": "Revenue Act of 1964",
      "confidence": 0.95,
      "reasoning": "Explanation..."
    }
  },
  ...
]
```

**Regenerating examples:**
```r
# Delete existing file
file.remove("prompts/model_a_examples.json")

# Regenerate from training data
tar_make(model_a_examples_file)
```

## Version Control

- ✅ **DO commit:** System prompts (.txt files)
- ✅ **DO commit:** Example JSON files (for reproducibility)
- ❌ **DON'T edit:** Examples manually (regenerate from training data instead)

## References

- Phase 0 Plan: `docs/phase_0/plan_phase0.md`
- Model A Implementation: `docs/phase_0/model_a_implementation.md`
